(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(17),s=n.n(a),o=(n(34),n(16)),i=n(3),u=n(9),l=(n(40),n(41),n(1)),b=function(){return Object(l.jsx)("div",{className:"circular-progress-container",children:Object(l.jsx)("div",{className:"circular-progress"})})},j=(n(43),function(e){var t=e.percent,n=void 0===t?0:t;return Object(l.jsxs)("div",{className:"progress-stat",children:[Object(l.jsx)("p",{className:"percent-complete",children:"".concat(n,"%")}),Object(l.jsx)("p",{className:"completed",children:"Completed"})]})}),p=function(e){var t=e.progress,n=t.completed,r=t.currentChapter;return Object(l.jsxs)("div",{className:"progress-container",children:[Object(l.jsx)(b,{}),Object(l.jsx)(j,{percent:n}),Object(l.jsx)("div",{className:"progress-divider"}),Object(l.jsxs)("div",{className:"current-chapter-container",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"current-chapter-label",children:"CURRENT CHAPTER"}),Object(l.jsx)("p",{className:"current-chapter",children:r})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"primary-button",type:"button",children:"UPDATE PROGRESS"})})]})]})},d=n(13),h=n(11),O=n(28),m=n(4),f=n.n(m),x=n(10),v="https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi",k="appId",g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return fetch("".concat(v).concat(e),{method:n,body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}})},N=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(k)){e.next=9;break}return e.next=4,g("/apps");case 4:return n=e.sent,e.next=7,n.text();case 7:t=e.sent,localStorage.setItem(k,t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(k),e.next=3,g("/apps/".concat(n,"/books"),t);case 3:return r=e.sent,e.abrupt("return",201===r.status);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(k),e.next=3,fetch("".concat(v,"/apps/").concat(t,"/books"));case 3:return n=e.sent,e.prev=4,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(f.a.mark((function e(t){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(k),e.next=3,g("/apps/".concat(n,"/books/").concat(t),{item_id:t},"DELETE");case 3:return r=e.sent,e.next=6,r.text();case 6:return c=e.sent,e.abrupt("return","The book was deleted successfully!"===c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w="bookStore/books/ADD_BOOK",E="bookStore/books/REMOVE_BOOK",A="bookStore/books/SET_BOOKS",I=[{item_id:"mock-1",category:"Action",title:"The Hunger Games",author:"Suzanne Collins",progress:{currentChapter:"Chapter 17",completed:"64"}},{item_id:"mock-2",category:"Science Fiction",title:"Dune",author:"Frank Herbert",progress:{currentChapter:'Chapter 3: "A Lesson Learned"',completed:"8"}},{item_id:"mock-3",category:"Economy",title:"Capital in the Twenty-First Century",author:"Suzanne Collins",progress:{currentChapter:"Introduction",completed:"0"}}];N();var T=function(e){return{type:E,id:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return[].concat(Object(O.a)(e),[Object(h.a)(Object(h.a)({},t.payload),{},{author:"Author not set",progress:{currentChapter:"Introduction",completed:"0"}})]);case E:return e.filter((function(e){return e.item_id!==t.id}));case A:var n=Object.entries(t.payload).map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(d.a)(r,1)[0];return Object(h.a)(Object(h.a)({item_id:n},c),{},{author:"Author not set",progress:{currentChapter:"Introduction",completed:"0"}})}));return e.concat(n);default:return e}},D=(n(45),function(e){var t=e.id,n=Object(u.b)();return Object(l.jsxs)("div",{className:"action-buttons",children:[Object(l.jsx)("button",{className:"button-outline",type:"button",children:"Comments"}),Object(l.jsx)("div",{className:"vertical-divider"}),Object(l.jsx)("button",{className:"button-outline",type:"button",onClick:function(){return n(function(e){return function(){var t=Object(x.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.startsWith("mock-")){t.next=4;break}n(T(e)),t.next=8;break;case 4:return t.next=6,C(e);case 6:t.sent&&n(T(e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:"Remove"}),Object(l.jsx)("div",{className:"vertical-divider"}),Object(l.jsx)("button",{className:"button-outline",type:"button",children:"Edit"})]})}),B=(n(46),function(e){var t=e.book,n=t.item_id,r=t.title,c=t.category,a=t.author,s=t.progress;return Object(l.jsx)("div",{className:"book",children:Object(l.jsxs)("div",{className:"book-content",children:[Object(l.jsxs)("div",{className:"book-info",children:[Object(l.jsx)("h4",{className:"book-category",children:c}),Object(l.jsx)("h2",{className:"book-title",children:r}),Object(l.jsx)("h6",{className:"book-author",children:a}),Object(l.jsx)(D,{id:n})]}),Object(l.jsx)(p,{progress:s})]})})}),R=function(e){var t=e.books;return Object(l.jsx)("ul",{className:"books",children:t.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(B,{book:e})},e.title)}))})},K=n(29),F=(n(47),["Action","Science Fiction","Economy"]),P=function(){var e=Object(u.b)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(F[0]),o=Object(d.a)(s,2),i=o[0],b=o[1];return Object(l.jsxs)("section",{children:[Object(l.jsx)("h2",{className:"form-title",children:"ADD NEW BOOK"}),Object(l.jsxs)("form",{className:"add-form",onSubmit:function(t){var n={item_id:Object(K.a)(),title:c,category:i};e(function(e){return function(){var t=Object(x.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:t.sent&&n({type:w,payload:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),a(""),b(F[0]),t.preventDefault()},children:[Object(l.jsx)("input",{className:"input title-input",value:c,placeholder:"Book title",required:!0,onChange:function(e){return a(e.target.value)}}),Object(l.jsx)("select",{className:"input category-input",value:i,onChange:function(e){return b(e.target.value)},children:F.map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)}))}),Object(l.jsx)("button",{className:"primary-button-big",type:"submit",children:"ADD BOOK"})]})]})},U=(n(48),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.books}));return Object(r.useEffect)((function(){e(function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(n=e.sent)&&t({type:A,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(R,{books:t}),Object(l.jsx)("div",{className:"horizontal-divider"}),Object(l.jsx)(P,{})]})}),z=function(){return Object(l.jsx)("h1",{children:"Under construction"})},G=(n(49),function(e){var t=e.name;return Object(l.jsx)("button",{className:"icon-button",type:"button",children:Object(l.jsx)("span",{className:"material-icons primary-color",children:t})})}),H=(n(50),function(e){var t=e.title,n=e.routes;return Object(l.jsxs)("nav",{className:"nav-bar",children:[Object(l.jsx)(o.b,{className:"nav-brand",to:"/",children:t}),Object(l.jsx)("ul",{className:"nav-links",children:n.map((function(e){var t=e.name,n=e.path;return Object(l.jsx)("li",{children:Object(l.jsx)(o.c,{className:"nav-link",activeClassName:"active-link",exact:!0,to:n,children:t})},n)}))}),Object(l.jsx)(G,{name:"person"})]})}),J=n(19),L=n(26),M=n(27),W=n.n(M),q=Object(J.b)({books:_}),V=Object(J.c)(q,Object(J.a)(L.a,W.a)),Q=[{path:"/",name:"BOOKS",component:Object(l.jsx)(U,{})},{path:"/categories",name:"CATEGORIES",component:Object(l.jsx)(z,{})}],X=function(){return Object(l.jsx)(u.a,{store:V,children:Object(l.jsxs)(o.a,{basename:"",children:[Object(l.jsx)(H,{title:"Bookstore CMS",routes:Q}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(i.c,{children:Q.map((function(e){var t=e.path,n=e.component;return Object(l.jsx)(i.a,{path:t,exact:!0,children:n},t)}))})})]})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(X,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.8716430b.chunk.js.map